{"ast":null,"code":"import { switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../autenticacao/usuario/usuario.service\";\nimport * as i2 from \"./../animais.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../grade-fotos-animais/grade-fotos-animais.component\";\n\nfunction ListaAnimaisComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-grade-fotos-animais\", 1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const animais_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"animais\", animais_r1);\n  }\n}\n\nexport class ListaAnimaisComponent {\n  constructor(usuarioService, animaisService) {\n    this.usuarioService = usuarioService;\n    this.animaisService = animaisService;\n  }\n\n  ngOnInit() {\n    // subscribe hell!\n    // this.usuarioService.retornaUsuario().subscribe(\n    //   (usuario)=>{\n    //     //\n    //     const userName = usuario.name ?? '';\n    //     //\n    //     this.animaisService.listaDoUsuario(userName).subscribe(\n    //       (animais) => {\n    //         console.log(animais);\n    //         this.animais = animais;\n    //     });\n    //   });\n    this.animais$ = this.usuarioService.retornaUsuario().pipe(switchMap(usuario => {\n      var _a;\n\n      const userName = (_a = usuario.name) !== null && _a !== void 0 ? _a : '';\n      return this.animaisService.listaDoUsuario(userName);\n    }));\n  }\n\n}\n\nListaAnimaisComponent.ɵfac = function ListaAnimaisComponent_Factory(t) {\n  return new (t || ListaAnimaisComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.AnimaisService));\n};\n\nListaAnimaisComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListaAnimaisComponent,\n  selectors: [[\"app-lista-animais\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"animais\"]],\n  template: function ListaAnimaisComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ListaAnimaisComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.animais$));\n    }\n  },\n  directives: [i3.NgIf, i4.GradeFotosAnimaisComponent],\n  pipes: [i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0YS1hbmltYWlzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/ProgramaAceleracao/programaaceleracao/Projetos/angular_formularios-main/gatitobook/src/app/animais/lista-animais/lista-animais.component.ts"],"names":["switchMap","i0","i1","i2","i3","i4","ListaAnimaisComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","animais_r1","ngIf","ɵɵadvance","ɵɵproperty","ListaAnimaisComponent","constructor","usuarioService","animaisService","ngOnInit","animais$","retornaUsuario","pipe","usuario","_a","userName","name","listaDoUsuario","ɵfac","ListaAnimaisComponent_Factory","t","ɵɵdirectiveInject","UsuarioService","AnimaisService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ListaAnimaisComponent_Template","ɵɵtemplate","ɵɵpipe","ɵɵpipeBind1","directives","NgIf","GradeFotosAnimaisComponent","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { switchMap } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../../autenticacao/usuario/usuario.service\";\r\nimport * as i2 from \"./../animais.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../grade-fotos-animais/grade-fotos-animais.component\";\r\nfunction ListaAnimaisComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelement(1, \"app-grade-fotos-animais\", 1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const animais_r1 = ctx.ngIf;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"animais\", animais_r1);\r\n} }\r\nexport class ListaAnimaisComponent {\r\n    constructor(usuarioService, animaisService) {\r\n        this.usuarioService = usuarioService;\r\n        this.animaisService = animaisService;\r\n    }\r\n    ngOnInit() {\r\n        // subscribe hell!\r\n        // this.usuarioService.retornaUsuario().subscribe(\r\n        //   (usuario)=>{\r\n        //     //\r\n        //     const userName = usuario.name ?? '';\r\n        //     //\r\n        //     this.animaisService.listaDoUsuario(userName).subscribe(\r\n        //       (animais) => {\r\n        //         console.log(animais);\r\n        //         this.animais = animais;\r\n        //     });\r\n        //   });\r\n        this.animais$ = this.usuarioService.retornaUsuario().pipe(switchMap((usuario) => {\r\n            var _a;\r\n            const userName = (_a = usuario.name) !== null && _a !== void 0 ? _a : '';\r\n            return this.animaisService.listaDoUsuario(userName);\r\n        }));\r\n    }\r\n}\r\nListaAnimaisComponent.ɵfac = function ListaAnimaisComponent_Factory(t) { return new (t || ListaAnimaisComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.AnimaisService)); };\r\nListaAnimaisComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ListaAnimaisComponent, selectors: [[\"app-lista-animais\"]], decls: 2, vars: 3, consts: [[4, \"ngIf\"], [3, \"animais\"]], template: function ListaAnimaisComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, ListaAnimaisComponent_div_0_Template, 2, 1, \"div\", 0);\r\n        i0.ɵɵpipe(1, \"async\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.animais$));\r\n    } }, directives: [i3.NgIf, i4.GradeFotosAnimaisComponent], pipes: [i3.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0YS1hbmltYWlzLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}